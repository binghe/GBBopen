<!DOCTYPE html>
<html lang=en>
<!-- XML file produced from file: reference.tex
     using Hyperlatex v 2.9-in-waiting-rk (c) Otfried Cheong -->
<head>
<meta charset=utf-8>
<title>GBBopen 1.5 Reference -- parse-date</title>
</p>
<link rel="SHORTCUT ICON" href="favicon.ico"><link rel=stylesheet
        href="gbbopen.css" type="text/css" />
</head>
<body>
<table width="100%" cellpadding="0" cellspacing="2"><tr>
<td bgcolor="#99ccff"><a href="ref-message-log-date-and-time.html"><img border="0" alt="message-log-date-and-time" src="previous.png"/></a></td><td bgcolor="#99ccff"><a href="ref-date-and-time-entities.html"><img border="0" alt="Date and Time" src="up.png"/></a></td><td bgcolor="#99ccff"><a href="ref-parse-date-and-time.html"><img border="0" alt="parse-date-and-time" src="next.png"/></a></td><td align="center" bgcolor="#99ccff" width="100%"><b><font color="#000000">parse-date</font></b></td><td bgcolor="#99ccff"><a target="_top" href="reference.html"><img border="0" alt="GoTo Top" src="top.png"/></a></td></tr></table>

<p><table class="tight" width="100%">
<tr valign="top"><td valign="baseline" align="left"%>
<nobr><b><font color="#000000">parse-date</font></b></nobr></td><td valign="baseline"> &nbsp; </td><td valign="baseline" align="left" width="99%"><var>string</var>
<code>&#38;key</code> <var>start end 
<nobr>junk-allowed</nobr> 
<nobr>separators</nobr>
<nobr>month-precedes-date</nobr>
<nobr>year-first</nobr>
<nobr>default-to-current-year</nobr></var>
<nobr><span 
    style="font-family: serif; font-style: normal">=&gt;</span> <var>date, month, year, position</var></nobr></td><td valign="baseline" align="right">[<i>Function</i>]
</td></tr></table></p>
<p><span class="fndoclabel">Purpose</span> <br />Parse a date-specification string.
</p>
<p><span class="fndoclabel">Package</span>&nbsp;&nbsp;&nbsp;<code>:gbbopen-tools</code> (home package is <nobr><code>:module-manager</code></nobr>)
</p>
<p><span class="fndoclabel">Module</span>&nbsp;&nbsp;&nbsp;<code>:module-manager</code>
</p>
<p><span class="fndoclabel">Arguments and values</span><table class="tighttop">
<tr valign="top"><td valign="baseline" nowrap><i>string</i></td><td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td><td valign="baseline"> A simple string
</td></tr><tr valign="top"><td valign="baseline" nowrap><i>start</i></td><td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td><td valign="baseline"> Starting index into <var>string</var> (default is <code>0</code>)
</td></tr><tr valign="top"><td valign="baseline" nowrap><i>end</i></td><td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td><td valign="baseline"> Ending index into <var>string</var> (default is <code>nil</code>, meaning
end of <var>string</var>)
</td></tr><tr valign="top"><td valign="baseline" nowrap><i>junk-allowed</i></td><td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td><td valign="baseline"> A <a href="ref-glossary.html#id84">generalized&nbsp;boolean</a> (default is <code>nil</code>)
</td></tr><tr valign="top"><td valign="baseline" nowrap><i>separators</i></td><td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td><td valign="baseline"> A sequence of characters that are skipped and separate the
date, month, and year fields in <var>string</var>, if needed (default is 
<nobr><code>"-/ ,"</code></nobr>)
</td></tr><tr valign="top"><td valign="baseline" nowrap><i>month-precedes-date</i></td><td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td><td valign="baseline"> A <a href="ref-glossary.html#id84">generalized&nbsp;boolean</a> (default is 
<nobr><b><a href="ref-month-precedes-date-var.html">*month-precedes-date*</a></b></nobr>)
</td></tr><tr valign="top"><td valign="baseline" nowrap><i>year-first</i></td><td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td><td valign="baseline"> A <a href="ref-glossary.html#id84">generalized&nbsp;boolean</a> (default is <code>nil</code>)
</td></tr><tr valign="top"><td valign="baseline" nowrap><i>default-to-current-year</i></td><td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td><td valign="baseline"> A <a href="ref-glossary.html#id84">generalized&nbsp;boolean</a> (default is <code>nil</code>)
</td></tr><tr valign="top"><td valign="baseline" nowrap><i>date</i></td><td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td><td valign="baseline"> An integer between 1 and up to 31, inclusive, depending
on the month and year
</td></tr><tr valign="top"><td valign="baseline" nowrap><i>month</i></td><td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td><td valign="baseline"> An integer between 1 and 12, inclusive
</td></tr><tr valign="top"><td valign="baseline" nowrap><i>year</i></td><td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td><td valign="baseline"> An integer
</td></tr><tr valign="top"><td valign="baseline" nowrap><i>position</i></td><td valign="baseline">&nbsp;&nbsp;&nbsp;&nbsp;</td><td valign="baseline"> A index in <var>string</var>
</td></tr></table>
</p>
<p><span class="fndoclabel">Returns</span> <br />Four values: <var>date</var>, <var>month</var>, <var>year</var>, and
<nobr><var>position</var></nobr>
</p>
<p><span class="fndoclabel">Errors</span> <br />If <var>junk-allowed</var> is false, an error is signaled if a numeric field in
<var>string</var> does not consist entirely of the representation of a integer,
possibly surrounded on either side by characters in <nobr><var>separators</var></nobr>.
</p>
<p><span class="fndoclabel">Description</span> <br />Both the month and date must be specified in <var>string</var>, optionally followed
by the year and the time of day. The month can be a numeric value (1&ndash;12), a
three-letter abbreviation, or the full month name.  If the month is specified
numerically, then the value of <nobr><var>month-precedes-date</var></nobr> is used to
determine the month and date ordering. If no year is specified in <var>string</var>
and <nobr><var>default-to-current-year</var></nobr> is <code>nil</code>, the current calendar year
is assumed, unless the specified month and date have passed, in which case the
next year is assumed. If no year is specified in <var>string</var> and
<nobr><var>default-to-current-year</var></nobr> is true, the current calendar year is
always assumed.
</p>
<p>The returned <var>position</var> is the index within <var>string</var> where the
parse ended.
</p>
<p><span class="fndoclabel">See also</span>
<br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="ref-month-precedes-date-var.html"><b>*month-precedes-date*</b></a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="ref-encode-date-and-time.html"><b>encode-date-and-time</b></a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="ref-encode-time-of-day.html"><b>encode-time-of-day</b></a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="ref-parse-date-and-time.html"><b>parse-date-and-time</b></a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="ref-parse-duration.html"><b>parse-duration</b></a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="ref-parse-time.html"><b>parse-time</b></a>
</p>
<p><span class="fndoclabel">Examples</span> <br /><pre class="pretop">
  &gt; (parse-date "1 Apr 2010")
  1
  4
  2010
  10
  &gt; (parse-date "April 1, 2010")
  1
  4
  2010
  13
  &gt; (parse-date "Thu 1 Apr 2010")
  1
  4
  2010
  14
  &gt; (parse-date "Thursday, April 1, 2010")
  1
  4
  2010
  23
  &gt; (parse-date "1-4-10" :month-precedes-date 't)
  4
  1
  2010
  6
  &gt; (parse-date "1-4-10" :month-precedes-date nil)
  1
  4
  2010
  6
  &gt; (parse-date "4 Jul") <font color="#667f66">;; entered May 1, 2008</font>
  4
  7
  2008
  5
  &gt; (parse-date "4 Jul") <font color="#667f66">;; entered August 1, 2008</font>
  4
  7
  2009
  5
  &gt; (parse-date "4 Jul"  <font color="#667f66">;; entered August 1, 2008</font>
      :default-to-current-year 't)
  4
  7
  2008
  5
  &gt; (parse-date "4/7  " :month-precedes-date nil)
  4
  7
  2008
  5
  &gt; (parse-date "4/7  junk" :junk-allowed 't)
  7
  4
  2008
  5
  &gt;
</pre>
</p>
<p><span class="fndoclabel">Note</span> <br /><a name="id1">This</a> function is loaded with the <nobr><code>:module-manager</code></nobr> <a href="ref-glossary.html#gl:module">module</a>
in order to to make it available as early as possible.
</p>
<hr /><address><a target="_top" class="address"
    href="http://GBBopen.org/"><p>The GBBopen Project</a></address><br />
<table width="100%" cellpadding="0" cellspacing="2"><tr>
<td bgcolor="#99ccff"><a href="ref-message-log-date-and-time.html"><img border="0" alt="message-log-date-and-time" src="previous.png"/></a></td><td bgcolor="#99ccff"><a href="ref-date-and-time-entities.html"><img border="0" alt="Date and Time" src="up.png"/></a></td><td bgcolor="#99ccff"><a href="ref-parse-date-and-time.html"><img border="0" alt="parse-date-and-time" src="next.png"/></a></td><td align="center" bgcolor="#99ccff" width="100%"><b><font color="#000000">parse-date</font></b></td><td bgcolor="#99ccff"><a target="_top" href="reference.html"><img border="0" alt="GoTo Top" src="top.png"/></a></td></tr></table></body></html>
