<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- XML file produced from file: reference.tex
     using Hyperlatex v 2.9-in-waiting-rk (c) Otfried Cheong -->
<head>
<title>GBBopen 1.1 Reference -- Mini-Module Facility</title>
</p>
<link rel="SHORTCUT ICON" href="favicon.ico"><link rel=stylesheet
        href="gbbopen.css" type="text/css" />
</head>
<body>
<table width="100%" cellpadding="0" cellspacing="2"><tr>
<td bgcolor="#99ccff"><a href="ref-starting-up.html"><img border="0" alt="Starting Up" src="previous.png"/></a></td><td bgcolor="#99ccff"><a href="reference_0.html"><img border="0" alt="Top" src="up.png"/></a></td><td bgcolor="#99ccff"><a href="ref-tools-entities.html"><img border="0" alt="GBBopen Tools" src="next.png"/></a></td><td align="center" bgcolor="#99ccff" width="100%"><b>Mini-Module Facility</b></td><td bgcolor="#99ccff"><a target="_top" href="reference.html"><img border="0" alt="GoTo Top" src="top.png"/></a></td></tr></table>
<h1>Mini-Module Facility</h1>
<p>The Mini Module facility provides a lightweight and easy to use mechanism for
compiling and loading <a href="ref-glossary.html#gl:module">module</a> files.  The facility keeps track of the
dependencies between modules and the modules that have been compiled and
loaded. The Mini Module facility was designed for simplicity and portability,
yet it is powerful enough to manage substantial software projects, each
operating on multiple hardware platforms and Common Lisp implementations.
</p>
<p>The Mini Module facility is sufficient for many situations, and if not,
there are more complex open-source <b>defsystem</b> packages, such as ASDF
(<a target="_top" href="http://constantly.at/lisp/asdf/">http://constantly.at/lisp/asdf/</a>), that are available.
</p>
<p><a name="id1">The</a> <code>:mini-module</code> <a href="ref-glossary.html#gl:module">module</a> is automatically loaded by the GBBopen
<code><var>&lt;install-directory&gt;</var>/startup.lisp</code> file (via the
<code>mini-module-loader.lisp</code> file located in the <code>mini-module</code>
subdirectory). If a <code>gbbopen-init.lisp</code> file (source or compiled) is
present in the user's &#8220;home&#8221; directory, it is loaded immediately following
the loading of the Mini Module facility by the
<code><var>&lt;install-directory&gt;</var>/startup.lisp</code> file.  A personal
<code><var>&lt;homedir&gt;</var>/gbbopen-init.lisp</code> file is very useful for defining
GBBopen parameters and other personalizations
(see the GBBopen <a href="ref-starting-up.html">start-up description</a>).
</p>
<p><h3>Stand-alone usage</h3>
</p>
<p>To bootstrap the Mini Module facility stand-alone (separate from the GBBopen
Project software tree), do the following:
</p>
<p><ul class="tight"><li>create a &#8220;root&#8221; directory to contain the mini-module software tree<br />(for example: <code>&#36; mkdir my-tree</code>)
<li>create the mini-module portion of the source tree in the newly created
&#8220;root&#8221; directory<br />(for example: <code>&#36; cd my-tree ; mkdir -p source/mini-module</code>)
<li>copy the
<a target="_top" href="http://gbbopen.org/svn/GBBopen/trunk/source/mini-module/mini-module-loader.lisp"><code>mini-module-loader.lisp</code></a>,
&nbsp;
<a target="_top" href="http://gbbopen.org/svn/GBBopen/trunk/source/mini-module/mini-module.lisp"><code>mini-module.lisp</code></a>,
&nbsp;
and
<a target="_top" href="http://gbbopen.org/svn/GBBopen/trunk/source/mini-module/mini-module-user.lisp"><code>mini-module-user.lisp</code></a>
files into the<br /><code>source/mini-module</code> directory
<li>start your Common Lisp implementation and then load the
<code>mini-module-loader.lisp</code> file<br />&nbsp;&nbsp;&nbsp;<code>&gt; (load "my-tree/source/mini-module/mini-module-loader")</code>
<li>compile the <code>:mini-module</code> and <code>:mini-module-user</code> modules:<br />&nbsp;&nbsp;&nbsp;<code>&gt; (mini-module:<a href="ref-compile-module.html">compile-module</a> :mini-module-user :create-dirs :propagate)</code>
</ul>
The Mini Module facility can now be used stand-alone by loading
<code>source/mini-module-loader.lisp</code> as part of your Common Lisp
initialization.
</p>
<p><b><font size="+1">Entities</font></b>
</p>
<ul>
<li><a href="ref-automatically-create-missing-directories-var.html"><font color="#000000">*automatically-create-missing-directories*</font></a></li>
<li><a href="ref-autorun-modules-var.html"><font color="#000000">*autorun-modules*</font></a></li>
<li><a href="ref-compile-module.html"><font color="#000000">compile-module</font></a></li>
<li><a href="ref-define-module.html"><font color="#000000">define-module</font></a></li>
<li><a href="ref-define-relative-directory.html"><font color="#000000">define-relative-directory</font></a></li>
<li><a href="ref-define-root-directory.html"><font color="#000000">define-root-directory</font></a></li>
<li><a href="ref-describe-module.html"><font color="#000000">describe-module</font></a></li>
<li><a href="ref-get-directory.html"><font color="#000000">get-directory</font></a></li>
<li><a href="ref-get-root-directory.html"><font color="#000000">get-root-directory</font></a></li>
<li><a href="ref-load-module.html"><font color="#000000">load-module</font></a></li>
<li><a href="ref-load-module-file.html"><font color="#000000">load-module-file</font></a></li>
<li><a href="ref-module-directories.html"><font color="#000000">module-directories</font></a></li>
<li><a href="ref-module-loaded-p.html"><font color="#000000">module-loaded-p</font></a></li>
<li><a href="ref-show-defined-directories.html"><font color="#000000">show-defined-directories</font></a></li>
<li><a href="ref-with-module-redefinitions.html"><font color="#000000">with-module-redefinitions</font></a></li>
</ul>
<hr /><address><a target="_top" class="address"
    href="http://GBBopen.org/"><p>The GBBopen Project</a></address><br />
<table width="100%" cellpadding="0" cellspacing="2"><tr>
<td bgcolor="#99ccff"><a href="ref-starting-up.html"><img border="0" alt="Starting Up" src="previous.png"/></a></td><td bgcolor="#99ccff"><a href="reference_0.html"><img border="0" alt="Top" src="up.png"/></a></td><td bgcolor="#99ccff"><a href="ref-tools-entities.html"><img border="0" alt="GBBopen Tools" src="next.png"/></a></td><td align="center" bgcolor="#99ccff" width="100%"><b>Mini-Module Facility</b></td><td bgcolor="#99ccff"><a target="_top" href="reference.html"><img border="0" alt="GoTo Top" src="top.png"/></a></td></tr></table></body></html>
